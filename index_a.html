<!DOCTYPE html>
<html>
<head>
<title>Anyscale Stable Diffusion Demo</title>

<script>
function searchFunction(event) {
event.preventDefault();
const searchTerm = document.getElementById('search').value;

fetch(`https://anyscale-demo.lmbae.com.global.prod.fastly.net/imagine?prompt=${searchTerm}&img_size=512`)
  .then(res=>{return res.blob()})
  .then(blob=>{
    var img = URL.createObjectURL(blob);
    // Do whatever with the img
    document.getElementById('image_1').setAttribute('src', img);
  })
  
console.log('Search term:', searchTerm);
}
</script>

<style>
body {
font-family: Georgia, sans-serif;
margin: 50px;
}
h1 {
color: #0B042E;
}
.search-container {
display: flex;
align-items: center;
max-width: 400px;
margin: 30px auto;
border: 1px solid #90EE90;
border-radius: 10px;
padding: 3px;
}
input[type="text"] {
flex: 1;
padding: 8px;
border: none;
border-radius: 5px 0 0 5px;
}
button {
padding: 8px 15px;
border: none;
border-radius: 0 5px 5px 0;
cursor: pointer;
}
</style>

  
</head>
<body>
<h1>Anyscale Stable Diffusion Demo</h1>
<form onsubmit="searchFunction(event)">
<div class="search-container">
<input type="text" id="search" name="q" placeholder="Test">
<button type="submit">Search</button>
</div>
</form>
<img id="image_1" src=""/>
</body>
</html>
